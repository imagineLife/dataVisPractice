<!DOCTYPE html>
<html>
<head>
	<title>Responsive Line</title>
	<meta charset="utf-8">
	<meta content="width=device-width" name="viewport">
	<script src="../../../d3.v4.min.js"></script>
	<script src="../../../d3-selection-multi.min.js"></script>
	<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.13.0/d3.js"></script>  -->
	<!-- <script src="https://d3js.org/d3-selection-multi.v1.min.js"></script> -->
	<style type="text/css">
		.svgWrapper{
			height: 500px;
			width: 960px ;
			font-size: 32pt;
			font-family: sans-serif;
		}
	</style>
</head>
<body>
	<svg class="svgWrapper"></svg>
	<script>
		
		const myData = [
			{name: 'Milk', price: 3}
		];

		//Prep the text outpu of each item
		const textFn = d => `${d.name} $${d.price}`;

		//create space between each item
		//52 because 32 for font-size, 20 between each item
		const verticalSpacer = 52;


		let svgWrapper = d3.select('.svgWrapper');
		let textObj = svgWrapper.selectAll('text');

		function drawText(domSelection, dataArr){

			domSelection
				.data(dataArr)	//appends data to the text elements
				.enter()		//adds content to the dom
				.append('text')
				.attrs({
					'x': 250,
					'y': (d,i) => 50 + verticalSpacer * i
				})
				.text(textFn)
		}

		//manually adding mustard after 2 seconds
		setTimeout(() => {
				myData.push({name: 'Mustard', price: '3.99'});
				drawText(textObj, myData);
			},
		2000);

		drawText(textObj, myData);
	</script>
</body>
</html>

<!-- 

 -->